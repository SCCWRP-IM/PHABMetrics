<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>README.utf8.md</title>

<script src="README_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="README_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="README_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="README_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="README_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="README_files/navigation-1.1/tabsets.js"></script>
<link href="README_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="README_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">




</div>


<div id="marcus-w.-beck-marcusbsccwrp.org-raphael-d.-mazor-raphaelmsccwrp.org-mark-engeln" class="section level4">
<h4><em>Marcus W. Beck, <a href="mailto:marcusb@sccwrp.org">marcusb@sccwrp.org</a>, Raphael D. Mazor, <a href="mailto:raphaelm@sccwrp.org">raphaelm@sccwrp.org</a>, Mark Engeln</em></h4>
</div>
<div id="phabmetrics" class="section level1">
<h1>PHABMetrics</h1>
<p><a href="https://travis-ci.org/SCCWRP/PHABMetrics"><img src="https://travis-ci.org/SCCWRP/PHABMetrics.svg?branch=master" alt="Travis-CI Build Status" /></a> <a href="https://ci.appveyor.com/project/SCCWRP/PHABMetrics"><img src="https://ci.appveyor.com/api/projects/status/github/SCCWRP/PHABMetrics?branch=master&amp;svg=true" alt="AppVeyor Build Status" /></a></p>
<p>This package provides functions to calculate PHAB metrics using field data.</p>
</div>
<div id="installing-the-package" class="section level1">
<h1>Installing the package</h1>
<p>The development version of this package can be installed from Github:</p>
<pre class="r"><code>install.packages(&#39;devtools&#39;)
library(devtools)
install_github(&#39;SCCWRP/PHABMetrics&#39;)
library(PHABMetrics)</code></pre>
</div>
<div id="usage" class="section level1">
<h1>Usage</h1>
<p>The core function is <code>phabmetrics()</code>.</p>
<pre class="r"><code>alldat &lt;- phabmetrics(sampdat)
alldat</code></pre>
<pre><code>##           StationCode CFC_ALG.result CFC_ALL_EMAP.result
## 1 402M00002_8/13/2015             11                   6
## 2  SMC00710_5/20/2009             22                   5
## 3  SMC00957_6/21/2010             77                   7
## 4   SMC04383_6/9/2010              2                   7
##   CFC_ALL_SWAMP.result CFC_AQM.result CFC_BRS.result CFC_HUM.result
## 1                    7             11             11              0
## 2                    6             20             22              0
## 3                    8             56             77             14
## 4                    8             16              6              4
##   CFC_LTR.result CFC_LWD.result CFC_OHV.result CFC_RCK.result
## 1             11              0             11             11
## 2             20              0             22             22
## 3             77              7             77              0
## 4              2              8             16              0
##   CFC_UCB.result  FL_F.result FL_M.result FL_N_F.result FL_N_M.result
## 1             11  2.855641769  0.08086277            NA            NA
## 2              0  0.000000000  0.00000000            NA            NA
## 3             70  0.002344635  0.08280000   0.002344635        0.0828
## 4              2 14.754146820  0.41779091            NA            NA
##   FL_Q_F.result FL_Q_M.result MWVM_F.result MWVM_M.result NFC_DLU.result
## 1      2.855642    0.08086277          2.29      0.697992          Other
## 2      0.000000    0.00000000          0.58      0.176784 Suburban, Town
## 3            NA            NA          1.00      0.304800 Suburban, Town
## 4     14.754147    0.41779091          0.88      0.268224         Forest
##   NFC_EFR.result NFC_ERN.result PBM_E.result PBM_S.result PBM_V.result
## 1             NO             NO     13.63636     4.545455     81.81818
## 2             NO             NO     40.66667     0.000000     59.33333
## 3             NO             NO     36.36364    45.454545     18.18182
## 4             NO             NO      0.00000   100.000000      0.00000
##   PCT_BDRK.result PCT_BIGR.result PCT_CB.result PCT_CF.count PCT_CF.result
## 1               0        27.83505      11.34021           10           0.0
## 2               0        72.44094      32.28346           70           0.0
## 3               0         0.00000       0.00000           20           0.0
## 4               0        56.19048      16.19048           20           1.5
##   PCT_CF.sd PCT_CF_WT.count PCT_CF_WT.result PCT_CPOM.result PCT_DR.count
## 1 0.0000000              10                0        20.61856           10
## 2 0.0000000              70                0        56.69291           70
## 3 0.0000000              20                0        48.57143           20
## 4 0.3077935              20                3        26.66667           20
##   PCT_DR.result PCT_DR.sd PCT_FAST.result PCT_FAST_WT.result PCT_FN.result
## 1             0         0             4.0                4.0     35.051546
## 2             0         0            31.5              220.5      0.000000
## 3             0         0            15.5               31.0      0.000000
## 4             0         0            76.5              153.0      1.904762
##   PCT_GC.result PCT_GF.result PCT_GL.count PCT_GL.result PCT_GL.sd
## 1      9.278351      4.123711           10            38  4.817791
## 2     39.370079     10.236220           70            64  3.947481
## 3      0.000000     21.904762           20            55  6.190825
## 4     13.333333     28.571429           20            19  3.079645
##   PCT_GL_WT.count PCT_GL_WT.result PCT_HP.result PCT_MAA.result
## 1              10               38             0        2.12766
## 2              70              448             0       69.60000
## 3              20              110             0       10.47619
## 4              20               38             0       36.36364
##   PCT_MAP.result PCT_MAU.result PCT_MCP.result PCT_MIAT1.result
## 1        2.12766       0.000000      13.829787         3.260870
## 2       69.60000       0.000000       3.937008         0.000000
## 3       11.42857       0.952381      39.047619         0.952381
## 4       39.39394       4.040404       0.000000         0.000000
##   PCT_MIAT1P.result PCT_MIATP.result PCT_NSA.result PCT_OT.result
## 1         75.000000         4.347826       5.319149     19.587629
## 2          0.000000        86.842105      69.600000      2.362205
## 3          2.222222        42.857143      12.380952      0.000000
## 4          0.000000        38.775510      39.795918      0.000000
##   PCT_POOL.count PCT_POOL.result PCT_POOL.sd PCT_POOL_WT.count
## 1             10            58.0    3.653005                10
## 2             70             4.5    1.410108                70
## 3             20            29.5    4.459172                20
## 4             20             4.5    1.436370                20
##   PCT_POOL_WT.result PCT_RA.count PCT_RA.result PCT_RA.sd PCT_RA_WT.count
## 1               58.0           10             0         0              10
## 2               31.5           70             0         0              70
## 3               59.0           20             0         0              20
## 4                9.0           20             0         0              20
##   PCT_RA_WT.result PCT_RC.result PCT_RI.count PCT_RI.result PCT_RI.sd
## 1                0             0           10           4.0 0.9660918
## 2                0             0           70          23.5 2.2273010
## 3                0             0           20           0.0 0.0000000
## 4                0             0           20          73.0 2.5567249
##   PCT_RI_WT.count PCT_RI_WT.result PCT_RN.count PCT_RN.result PCT_RN.sd
## 1              10              4.0           10           0.0  0.000000
## 2              70            164.5           70           8.0  2.526096
## 3              20              0.0           20          15.5  1.450953
## 4              20            146.0           20           2.0  2.430075
##   PCT_RN_WT.count PCT_RN_WT.result PCT_RR.result PCT_RS.result
## 1              10                0             0             0
## 2              70               56             0             0
## 3              20               31             0             0
## 4              20                4             0             0
##   PCT_SA.result PCT_SAFN.result PCT_SB.result PCT_SFGF.result
## 1      9.278351        44.32990     7.2164948        48.45361
## 2     14.960630        14.96063     0.7874016        25.19685
## 3     78.095238        78.09524     0.0000000       100.00000
## 4     13.333333        15.23810    20.0000000        43.80952
##   PCT_SLOW.result PCT_SLOW_WT.result PCT_WD.result PCT_XB.result
## 1            96.0               96.0      4.123711      0.000000
## 2            68.5              479.5      0.000000      0.000000
## 3            84.5              169.0      0.000000      0.000000
## 4            23.5               47.0      0.000000      6.666667
##   PWVZ.result RBP_CHN.result RBP_EPI.result RBP_SED.result
## 1    45.45455             NA             NA             NA
## 2    15.78947             19             14             17
## 3     0.00000             NA             NA             NA
## 4     0.00000             17             17             18
##   SB_PP_D10.result SB_PP_D25.result SB_PP_D50.result SB_PP_D75.result
## 1             0.03             0.03             1.03            40.00
## 2             1.03             9.00            40.00           157.00
## 3             1.03             1.03             1.03             1.03
## 4             1.03             9.00            40.00           625.00
##   SB_PP_D90.result SB_PT_D10.result SB_PT_D25.result SB_PT_D50.result
## 1              157             0.03             0.03             1.03
## 2              157             1.03             9.00            40.00
## 3                9             1.03             1.03             1.03
## 4              625             1.03             9.00            40.00
##   SB_PT_D75.result SB_PT_D90.result SINU.NOT_WORKING SLOPE_0.count
## 1            40.00              157         28.64934            10
## 2           157.00              157         31.83260            10
## 3             1.03                9         28.64934            10
## 4           625.00              625         28.64934            10
##   SLOPE_0.result SLOPE_0_5.count SLOPE_0_5.result SLOPE_1.count
## 1         0.0000              10         666.6667            10
## 2       666.6667              10           0.0000            10
## 3       666.6667              10           0.0000            10
## 4       666.6667              10           0.0000            10
##   SLOPE_1.result SLOPE_2.count SLOPE_2.result W1_HALL_EMAP.result
## 1       666.6667            10       666.6667                   4
## 2         0.0000            10         0.0000                   8
## 3         0.0000            10         0.0000                  28
## 4         0.0000            10         0.0000                   8
##   W1_HALL_SWAMP.result W1H_BLDG.count W1H_BLDG.result W1H_BLDG.sd
## 1                    4             11               1           0
## 2                    8             11               2           0
## 3                   28             11               7           0
## 4                    8             11               2           0
##   W1H_BRDG.count W1H_BRDG.result W1H_BRDG.sd W1H_CROP.count
## 1             11               1           0             11
## 2             11               2           0             11
## 3             11               7           0             11
## 4             11               2           0             11
##   W1H_CROP.result W1H_CROP.sd W1H_LDFL.count W1H_LDFL.result W1H_LDFL.sd
## 1               1           0             11               1           0
## 2               2           0             11               2           0
## 3               7           0             11               7           0
## 4               2           0             11               2           0
##   W1H_LOG.count W1H_LOG.result W1H_LOG.sd W1H_MINE.count W1H_MINE.result
## 1            11              1          0             11               1
## 2            11              2          0             11               2
## 3            11              7          0             11               7
## 4            11              2          0             11               2
##   W1H_MINE.sd W1H_ORVY.count W1H_ORVY.result W1H_ORVY.sd W1H_PARK.count
## 1           0             11               1           0             11
## 2           0             11               2           0             11
## 3           0             11               7           0             11
## 4           0             11               2           0             11
##   W1H_PARK.result W1H_PARK.sd W1H_PIPE.count W1H_PIPE.result W1H_PIPE.sd
## 1               1           0             11               1           0
## 2               2           0             11               2           0
## 3               7           0             11               7           0
## 4               2           0             11               2           0
##   W1H_PSTR.count W1H_PSTR.result W1H_PSTR.sd W1H_PVMT.count
## 1             11               1           0             11
## 2             11               2           0             11
## 3             11               7           0             11
## 4             11               2           0             11
##   W1H_PVMT.result W1H_PVMT.sd W1H_ROAD.count W1H_ROAD.result W1H_ROAD.sd
## 1               1           0             11               1           0
## 2               2           0             11               2           0
## 3               7           0             11               7           0
## 4               2           0             11               2           0
##   W1H_VEGM.count W1H_VEGM.result W1H_VEGM.sd W1H_WALL.count
## 1             11               1           0             11
## 2             11               2           0             11
## 3             11               7           0             11
## 4             11               2           0             11
##   W1H_WALL.result W1H_WALL.sd XBEARING.count XBEARING.result XBEARING.sd
## 1               1           0             11     0.009090909 0.003015113
## 2               2           0             12     0.007500000 0.004522670
## 3               7           0             11     0.009090909 0.003015113
## 4               2           0             11     0.009090909 0.003015113
##   XBKF_H.count XBKF_H.result XBKF_H.sd XC.count XC.result    XC.sd
## 1           11     0.6590909 0.0202260       22  15.11364 14.06781
## 2           77     0.4918182 0.7186184       22  58.75000 25.11580
## 3           22     0.3581818 0.1206189       22  20.68182 24.53353
## 4           22     0.8645455 0.1197111       22  28.97727 21.65282
##   XCDENBK.count XCDENBK.result XCDENBK.sd XCDENMID.count XCDENMID.result
## 1             0             NA         NA             44        77.00535
## 2             0             NA         NA             88        84.75936
## 3             0             NA         NA             44        53.87701
## 4             0             NA         NA             44        50.00000
##   XCDENMID.sd XCM.result XCMG.result XEMBED.count XEMBED.result XEMBED.sd
## 1    35.08415   56.36364    80.90909           12      45.41667  30.70818
## 2    18.59386  117.38636   155.45455           41      13.29268  11.04591
## 3    34.32184   43.86364    69.09091            0            NA        NA
## 4    35.09978   51.13636    95.34091           14      44.28571  28.00118
##   XFC_ALG.count XFC_ALG.result XFC_ALG.sd XFC_AQM.count XFC_AQM.result
## 1            11     12.2727273  10.090500            11      22.954545
## 2            22     22.5000000  14.433757            22       4.545455
## 3            77     84.7727273   8.680948            77       3.636364
## 4            22      0.4545455   1.471225            22      32.954545
##   XFC_AQM.sd XFC_BIG.result XFC_BRS.count XFC_BRS.result XFC_BRS.sd
## 1  23.500484      32.500000            11      14.090909   10.44466
## 2   1.471225      62.500000            22       5.000000    0.00000
## 3   2.241411      22.727273            77       5.000000    0.00000
## 4  35.670753       6.818182            22       3.181818    7.32664
##   XFC_HUM.count XFC_HUM.result XFC_HUM.sd XFC_LTR.count XFC_LTR.result
## 1            11      0.0000000   0.000000            11      10.454545
## 2            22      0.0000000   0.000000            22       4.545455
## 3            77      5.6818182  16.556504            77      20.681818
## 4            22      0.9090909   1.973855            22       2.272727
##   XFC_LTR.sd XFC_LWD.count XFC_LWD.result XFC_LWD.sd XFC_NAT_EMAP.result
## 1   9.341987            11      0.0000000   0.000000            83.40909
## 2   1.471225            22      0.0000000   0.000000            76.13636
## 3  15.025397            77      0.4545455   1.446825            50.45455
## 4   7.356124            22      5.4545455   9.625004            32.50000
##   XFC_NAT_SWAMP.result XFC_OHV.count XFC_OHV.result XFC_OHV.sd
## 1            116.81818            11      36.818182   16.39706
## 2             85.22727            22       8.636364    7.89542
## 3             74.77273            77      28.409091   19.76386
## 4             67.72727            22      23.409091   23.53500
##   XFC_RCK.count XFC_RCK.result XFC_RCK.sd XFC_UCB.count XFC_UCB.result
## 1            11           27.5   28.19574            11      5.0000000
## 2            22           62.5   22.75647            22      0.0000000
## 3            77            0.0    0.00000            77     16.5909091
## 4            22            0.0    0.00000            22      0.4545455
##   XFC_UCB.sd XG.result XGB.count XGB.result   XGB.sd XGH.count XGH.result
## 1   0.000000  24.54545        22   82.04545 11.84313        22   19.54545
## 2   0.000000  38.06818        22   14.88636 14.27780        22   12.27273
## 3  16.352959  25.22727        22   20.34091 34.86620        22   20.90909
## 4   1.471225  44.20455        22   33.86364 14.81487        22   21.02273
##      XGH.sd XGW.count XGW.result    XGW.sd XKBF_W.count XKBF_W.result
## 1  9.116846        22   5.000000  0.000000           11     15.545455
## 2  9.847319        22  25.795455 15.047274           77      6.130909
## 3 26.865466        22   4.318182  8.632091           22      3.029091
## 4 12.165992        22  23.181818  5.884899           22     18.681818
##   XKBF_W.sd XM.count XM.result    XM.sd XMIAT.count XMIAT.result  XMIAT.sd
## 1 2.8762349       22  41.25000 16.63241          92    0.1032609 0.5372807
## 2 1.7371500       22  58.63636 26.91175         114    0.3245614 0.1725967
## 3 0.8329232       22  23.18182 23.74445         105    0.1666667 0.3319281
## 4 5.4864019       22  22.15909 17.17029          98    0.1173469 0.1613573
##   XMIATP.count XMIATP.result XMIATP.sd XPCAN.result XPCM.result
## 1            4     2.3750000 1.2500000    0.9090909           1
## 2           99     0.3737374 0.1256297    1.0000000           1
## 3           45     0.3888889 0.4147684    0.6818182           1
## 4           38     0.3026316 0.1032887    1.0000000           1
##   XPCMG.result XPGVEG.result XPMGVEG.result XPMID.result XSDGM.result
## 1            1             1              0     1.000000     1.377776
## 2            1             1              0     1.000000    31.377005
## 3            1             1              0     1.466667     1.655960
## 4            1             1              0     1.000000    39.827686
##   XSLOPE.count XSLOPE.result   XSLOPE.sd XSPGM.result XWAK.result
## 1           11   0.009090909 0.003015113     1.377776         341
## 2           12   0.000000000 0.000000000    31.377005         198
## 3           11   0.000000000 0.000000000     1.655960         200
## 4           11   0.000000000 0.000000000    39.827686         310
##   XWDA.count XWDA.result XWDEPTH.count XWDEPTH.result XWDEPTH.sd
## 1         97   0.3629066            97      33.845361   24.49036
## 2        735   0.2432594           735       7.733333   20.43468
## 3        240   0.3511581           240       5.116667   22.07518
## 4        210   0.1377978           210      14.600000   18.81383
##   XWDM.count XWDM.result XWDO.result XWDR.count XWDR.result XWIDTH.count
## 1         17    60.17647        3.90         21    27.55530           21
## 2         42    14.21429        8.86        147    41.10837          147
## 3         21     9.47619        7.19         48    28.47720           48
## 4         21    31.09524        9.70         42    72.57012           42
##   XWIDTH.result XWIDTH.sd XWPH.result XWSC.result XWSL.result XWTB.result
## 1      9.326190 16.252179        7.62    1806.000        0.92          NA
## 2      3.179048 17.316949        7.91     764.000        0.45        10.8
## 3      1.457083  8.350054        7.57    1985.474        1.20          NA
## 4     10.595238 16.582599        8.51    1188.000        0.60          NA
##   XWTC.result XWTF.result XWV_F.result XWV_M.result
## 1       20.50      68.900    0.5009091   0.15267709
## 2       16.22      61.196    0.1973684   0.06015789
## 3       18.68      65.624    1.0000000   0.30480000
## 4       20.90      69.620    0.2287500   0.06972300</code></pre>
<p>The classes for the columns in the output data are as follows:</p>
<pre class="r"><code>unlist(lapply(alldat, class))</code></pre>
<pre><code>##          StationCode       CFC_ALG.result  CFC_ALL_EMAP.result 
##          &quot;character&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
## CFC_ALL_SWAMP.result       CFC_AQM.result       CFC_BRS.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       CFC_HUM.result       CFC_LTR.result       CFC_LWD.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       CFC_OHV.result       CFC_RCK.result       CFC_UCB.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##          FL_F.result          FL_M.result        FL_N_F.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        FL_N_M.result        FL_Q_F.result        FL_Q_M.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        MWVM_F.result        MWVM_M.result       NFC_DLU.result 
##            &quot;numeric&quot;            &quot;numeric&quot;          &quot;character&quot; 
##       NFC_EFR.result       NFC_ERN.result         PBM_E.result 
##          &quot;character&quot;          &quot;character&quot;            &quot;numeric&quot; 
##         PBM_S.result         PBM_V.result      PCT_BDRK.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##      PCT_BIGR.result        PCT_CB.result         PCT_CF.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_CF.result            PCT_CF.sd      PCT_CF_WT.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##     PCT_CF_WT.result      PCT_CPOM.result         PCT_DR.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_DR.result            PCT_DR.sd      PCT_FAST.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##   PCT_FAST_WT.result        PCT_FN.result        PCT_GC.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_GF.result         PCT_GL.count        PCT_GL.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##            PCT_GL.sd      PCT_GL_WT.count     PCT_GL_WT.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_HP.result       PCT_MAA.result       PCT_MAP.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       PCT_MAU.result       PCT_MCP.result     PCT_MIAT1.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##    PCT_MIAT1P.result     PCT_MIATP.result       PCT_NSA.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_OT.result       PCT_POOL.count      PCT_POOL.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##          PCT_POOL.sd    PCT_POOL_WT.count   PCT_POOL_WT.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##         PCT_RA.count        PCT_RA.result            PCT_RA.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##      PCT_RA_WT.count     PCT_RA_WT.result        PCT_RC.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##         PCT_RI.count        PCT_RI.result            PCT_RI.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##      PCT_RI_WT.count     PCT_RI_WT.result         PCT_RN.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_RN.result            PCT_RN.sd      PCT_RN_WT.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##     PCT_RN_WT.result        PCT_RR.result        PCT_RS.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_SA.result      PCT_SAFN.result        PCT_SB.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##      PCT_SFGF.result      PCT_SLOW.result   PCT_SLOW_WT.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        PCT_WD.result        PCT_XB.result          PWVZ.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       RBP_CHN.result       RBP_EPI.result       RBP_SED.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##     SB_PP_D10.result     SB_PP_D25.result     SB_PP_D50.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##     SB_PP_D75.result     SB_PP_D90.result     SB_PT_D10.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##     SB_PT_D25.result     SB_PT_D50.result     SB_PT_D75.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##     SB_PT_D90.result     SINU.NOT_WORKING        SLOPE_0.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       SLOPE_0.result      SLOPE_0_5.count     SLOPE_0_5.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        SLOPE_1.count       SLOPE_1.result        SLOPE_2.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       SLOPE_2.result  W1_HALL_EMAP.result W1_HALL_SWAMP.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_BLDG.count      W1H_BLDG.result          W1H_BLDG.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_BRDG.count      W1H_BRDG.result          W1H_BRDG.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_CROP.count      W1H_CROP.result          W1H_CROP.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_LDFL.count      W1H_LDFL.result          W1H_LDFL.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        W1H_LOG.count       W1H_LOG.result           W1H_LOG.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_MINE.count      W1H_MINE.result          W1H_MINE.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_ORVY.count      W1H_ORVY.result          W1H_ORVY.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_PARK.count      W1H_PARK.result          W1H_PARK.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_PIPE.count      W1H_PIPE.result          W1H_PIPE.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_PSTR.count      W1H_PSTR.result          W1H_PSTR.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_PVMT.count      W1H_PVMT.result          W1H_PVMT.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_ROAD.count      W1H_ROAD.result          W1H_ROAD.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_VEGM.count      W1H_VEGM.result          W1H_VEGM.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       W1H_WALL.count      W1H_WALL.result          W1H_WALL.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XBEARING.count      XBEARING.result          XBEARING.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##         XBKF_H.count        XBKF_H.result            XBKF_H.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##             XC.count            XC.result                XC.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        XCDENBK.count       XCDENBK.result           XCDENBK.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XCDENMID.count      XCDENMID.result          XCDENMID.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##           XCM.result          XCMG.result         XEMBED.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        XEMBED.result            XEMBED.sd        XFC_ALG.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XFC_ALG.result           XFC_ALG.sd        XFC_AQM.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XFC_AQM.result           XFC_AQM.sd       XFC_BIG.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        XFC_BRS.count       XFC_BRS.result           XFC_BRS.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        XFC_HUM.count       XFC_HUM.result           XFC_HUM.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        XFC_LTR.count       XFC_LTR.result           XFC_LTR.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        XFC_LWD.count       XFC_LWD.result           XFC_LWD.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##  XFC_NAT_EMAP.result XFC_NAT_SWAMP.result        XFC_OHV.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XFC_OHV.result           XFC_OHV.sd        XFC_RCK.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XFC_RCK.result           XFC_RCK.sd        XFC_UCB.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XFC_UCB.result           XFC_UCB.sd            XG.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##            XGB.count           XGB.result               XGB.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##            XGH.count           XGH.result               XGH.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##            XGW.count           XGW.result               XGW.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##         XKBF_W.count        XKBF_W.result            XKBF_W.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##             XM.count            XM.result                XM.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##          XMIAT.count         XMIAT.result             XMIAT.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##         XMIATP.count        XMIATP.result            XMIATP.sd 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##         XPCAN.result          XPCM.result         XPCMG.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##        XPGVEG.result       XPMGVEG.result         XPMID.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##         XSDGM.result         XSLOPE.count        XSLOPE.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##            XSLOPE.sd         XSPGM.result          XWAK.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##           XWDA.count          XWDA.result        XWDEPTH.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##       XWDEPTH.result           XWDEPTH.sd           XWDM.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##          XWDM.result          XWDO.result           XWDR.count 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##          XWDR.result         XWIDTH.count        XWIDTH.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##            XWIDTH.sd          XWPH.result          XWSC.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##          XWSL.result          XWTB.result          XWTC.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot; 
##          XWTF.result         XWV_F.result         XWV_M.result 
##            &quot;numeric&quot;            &quot;numeric&quot;            &quot;numeric&quot;</code></pre>
</div>
<div id="required-data-checks" class="section level1">
<h1>Required data checks</h1>
<ul>
<li><p>For every function, make sure there are no duplicate or conflicting values for every unique combination of <code>id</code>, <code>LocationCode</code>, <code>AnalyteName</code>, and <code>VariableResult</code> (or <code>Result</code>). This should be specific to the metric classes just to be safe. For example, every combination should have only one entry in <code>VariableResult</code> for <code>AnalyteName %in% c('Microalgae Thickness', 'Macrophyte Cover', 'Macroalgae Cover, Attached', 'Macroalgae Cover, Unattached')</code> for the algae metrics. The <code>algae.R</code> function will remove duplicate entries but a checker should be built that verifies a unique value can be determined.</p></li>
<li><p>Required column names, see those in <code>sampdat</code>.</p></li>
<li>Check for required values in <code>AnalyteName</code> (note that <code>chkinp()</code> can check of the columns exist but we’ll need a checker on data input to check for these and only these):
<ul>
<li><code>c('Microalgae Thickness', 'Macrophyte Cover', 'Macroalgae Cover, Attached', 'Macroalgae Cover, Unattached')</code> for <code>algae()</code></li>
<li><code>c('Bankfull Height', 'Bankfull Width', 'StationWaterDepth', 'Wetted Width')</code> for <code>bankmorph()</code></li>
<li><code>c('Cascade/Falls', 'Dry', 'Glide', 'Pool', 'Rapid', 'Riffle', 'Run'))</code> for <code>channelmorph()</code></li>
<li><code>c(Slope', 'Length, Segment', 'Elevation Difference', 'Bearing', 'Proportion', 'Length, Reach')</code> for <code>channelsinuosity()</code></li>
<li><code>c('Canopy Cover')</code> for <code>densiometer()</code></li>
<li><code>c('Distance from Bank', 'StationWaterDepth', 'Velocity', 'Distance, Float', 'Float Time', 'Wetted Width')</code> for <code>flow()</code></li>
<li><code>c('Fish Cover Macrophytes', 'Fish Cover Artificial Structures', 'Fish Cover Boulders', 'Fish Cover Filamentous Algae', 'Fish Cover Woody Debris &gt;0.3 m', 'Fish Cover Live Trees/Roots', 'Fish Cover Overhang.Veg', 'Fish Cover Woody Debris &lt;0.3 m', 'Fish Cover Undercut Banks')</code> for <code>habitat()</code></li>
<li><code>c('Riparian Bridges/Abutments', 'Riparian Buildings', 'Riparian Landfill/Trash', 'Riparian Logging', 'Riparian Mining', 'Riparian Orchards/Vineyards', 'Riparian Park/Lawn', 'Riparian Pasture/Range', 'Riparian Pavement', 'Riparian Pipes', 'Riparian Road', 'Riparian Row Crops', 'Riparian Vegetation Management', 'Riparian Wall/Dike')</code> for <code>disturbance()</code></li>
<li><code>c('Riffle/Run Channel Alteration', 'Riffle/Run Epifaunal Substrate', 'Riffle/Run Sediment Deposition', 'Dominant Land Use', 'Evidence of Fire', 'Evidence of Recent Rainfall')</code> for <code>misc()</code></li>
<li><code>c('Bank Stability')</code> for <code>bankstability()</code></li>
<li><code>c(&quot;Alkalinity as CaCO3&quot;, &quot;Oxygen, Dissolved&quot;, &quot;pH&quot;, &quot;Salinity&quot;, &quot;SpecificConductivity&quot;, &quot;Temperature&quot;, &quot;Turbidity&quot;)</code> for <code>quality()</code></li>
<li><code>c('Riparian GroundCover Barren', 'Riparian GroundCover NonWoody Plants', 'Riparian GroundCover Woody Shrubs', 'Riparian Lower Canopy All Vegetation', 'Riparian Upper Canopy All Trees', 'Riparian Lower Canopy All Vegetation', 'Riparian Upper Canopy All Trees', 'Riparian GroundCover Woody Shrubs', 'Riparian GroundCover NonWoody Plants')</code> for <code>ripveg()</code></li>
<li><code>c('Substrate Size Class', 'Embeddedness', 'CPOM')</code> for <code>substrate()</code></li>
</ul></li>
<li><p>Check for required values in <code>LocationCode</code> (note that <code>chkinp()</code> can check of the columns exist but we’ll need a checker on data input to check for these and only these)</p></li>
<li><p>Maybe we need to add a checker to make sure all values in each field are present but with appropriate NA values for <code>Result</code>, <code>VariableResult</code>, this can be done with <code>tidyr::complete()</code> but may be unnecessary since this will increase data volume</p></li>
</ul>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
